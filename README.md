## Hi this is a simple CA System ğŸ‘‹

<!--
**TohruKanna/TohruKanna** is a âœ¨ _special_ âœ¨ repository because its `README.md` (this file) appears on your GitHub profile.

Here are some ideas to get you started:

- ğŸ”­ Iâ€™m currently working on ...
- ğŸŒ± Iâ€™m currently learning ...
- ğŸ‘¯ Iâ€™m looking to collaborate on ...
- ğŸ¤” Iâ€™m looking for help with ...
- ğŸ’¬ Ask me about ...
- ğŸ“« How to reach me: ...
- ğŸ˜„ Pronouns: ...
- âš¡ Fun fact: ...
-->
CA_System/
â”œâ”€â”€ ca_core.py          # æ ¸å¿ƒCAåŠŸèƒ½
â”œâ”€â”€ main.py             # å›¾å½¢ç•Œé¢
â”œâ”€â”€ data/               # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ issued/         # å·²é¢å‘è¯ä¹¦
â”‚   â”œâ”€â”€ revoked/        # å·²åŠé”€è¯ä¹¦  
â”‚   â”œâ”€â”€ users/          # ç”¨æˆ·ç”³è¯·æ–‡ä»¶
â”‚   â”œâ”€â”€ ca_cert.pem     # æ ¹CAè¯ä¹¦
â”‚   â”œâ”€â”€ ca_key.pem      # æ ¹CAç§é’¥
â”‚   â”œâ”€â”€ int_ca_cert.pem # ä¸­é—´CAè¯ä¹¦
â”‚   â”œâ”€â”€ int_ca_key.pem  # ä¸­é—´CAç§é’¥
â”‚   â”œâ”€â”€ crl.pem         # è¯ä¹¦åŠé”€åˆ—è¡¨
â”‚   â””â”€â”€ ca.db           # SQLiteæ•°æ®åº“
â””â”€â”€ logs/               # æ—¥å¿—ç›®å½•


ca_core.py
 â”œâ”€â”€ init_ca()                    # åŒæ—¶ç”Ÿæˆ Root + Intermediate CA
 â”œâ”€â”€ check_expiry_and_warn()      # æ£€æŸ¥åˆ°æœŸè¯ä¹¦ 
 â”œâ”€â”€ renew_certificate()          # æ‰‹åŠ¨ç»­ç­¾
 â”œâ”€â”€ auto_renew_all() ã€‚          #è‡ªåŠ¨ç»­ç­¾
 â”œâ”€â”€ safe_basename() + safe_join() # æ–‡ä»¶å®‰å…¨å‡½æ•° 
 â”œâ”€â”€ get_cert_details()           # ä»æ•°æ®åº“æŸ¥ application_id
 â”œâ”€â”€ register_cert_in_db()        # é€šè¿‡ approve_application å®ç°
 â”œâ”€â”€ è¯ä¹¦ç”Ÿå‘½å‘¨æœŸç®¡ç†
 â”‚   â”œâ”€â”€ submit_application()     # æäº¤ç”³è¯·
 â”‚   â”œâ”€â”€ approve_application()    # æ‰¹å‡†å¹¶é¢å‘è¯ä¹¦
 â”‚   â”œâ”€â”€ reject_application()     # æ‹’ç»ç”³è¯·
 â”‚   â””â”€â”€ revoke_application()     # åŠé”€è¯ä¹¦
 â”œâ”€â”€ CA åŸºç¡€è®¾æ–½
 â”‚   â”œâ”€â”€ create_intermediate_ca() # åˆ›å»ºä¸­é—´CA
 â”‚   â”œâ”€â”€ _load_ca()              # åŠ è½½CAå¯†é’¥
 â”‚   â””â”€â”€ generate_crl()          # ç”ŸæˆåŠé”€åˆ—è¡¨
 â”œâ”€â”€ åˆ—è¡¨æŸ¥è¯¢åŠŸèƒ½
 â”‚   â”œâ”€â”€ list_applications()     # æŸ¥è¯¢ç”³è¯·
 â”‚   â”œâ”€â”€ list_issued_certs()     # æŸ¥è¯¢å·²é¢å‘è¯ä¹¦
 â”‚   â””â”€â”€ list_revoked_certs()    # æŸ¥è¯¢å·²åŠé”€è¯ä¹¦
 â””â”€â”€ æ•°æ®åº“ç®¡ç†
     â””â”€â”€ init_db()               # åˆå§‹åŒ–æ•°æ®åº“

main.py
 â”œâ”€â”€ ä¸»åº”ç”¨ç±» CAApp
 â”‚   â”œâ”€â”€ åˆå§‹åŒ–å‡½æ•°
 â”‚   â”‚   â”œâ”€â”€ __init__()          # åˆå§‹åŒ–ç•Œé¢å’Œè¿æ¥
 â”‚   â”‚   â””â”€â”€ startup_check_expiry() # å¯åŠ¨æ—¶æ£€æŸ¥åˆ°æœŸè¯ä¹¦
 â”‚   â”œâ”€â”€ æ ¸å¿ƒæ“ä½œå¤„ç†å‡½æ•°
 â”‚   â”‚   â”œâ”€â”€ handle_init()       # åˆå§‹åŒ–CAå¤„ç†
 â”‚   â”‚   â”œâ”€â”€ handle_new_app()    # æ–°å»ºç”³è¯·å¤„ç†
 â”‚   â”‚   â”œâ”€â”€ handle_approve()    # æ‰¹å‡†ç”³è¯·å¤„ç†
 â”‚   â”‚   â”œâ”€â”€ handle_reject()     # æ‹’ç»ç”³è¯·å¤„ç†
 â”‚   â”‚   â”œâ”€â”€ handle_download_cert() # ä¸‹è½½è¯ä¹¦å¤„ç†
 â”‚   â”‚   â”œâ”€â”€ handle_renew_selected() # æ‰‹åŠ¨ç»­ç­¾å¤„ç†
 â”‚   â”‚   â”œâ”€â”€ handle_auto_renew() # è‡ªåŠ¨ç»­ç­¾å¤„ç†
 â”‚   â”‚   â””â”€â”€ handle_revoke_by_app_id() # åŠé”€è¯ä¹¦å¤„ç†
 â”‚   â”œâ”€â”€ åˆ—è¡¨åˆ·æ–°å‡½æ•°
 â”‚   â”‚   â”œâ”€â”€ refresh_pending_list()  # åˆ·æ–°å¾…å®¡æ ¸åˆ—è¡¨
 â”‚   â”‚   â”œâ”€â”€ refresh_issued_list()   # åˆ·æ–°å·²é¢å‘åˆ—è¡¨
 â”‚   â”‚   â””â”€â”€ refresh_revoked_list()  # åˆ·æ–°å·²åŠé”€åˆ—è¡¨
 â”‚   â”œâ”€â”€ è¯¦æƒ…æ˜¾ç¤ºå‡½æ•°
 â”‚   â”‚   â”œâ”€â”€ show_selected_application_details() # æ˜¾ç¤ºç”³è¯·è¯¦æƒ…
 â”‚   â”‚   â”œâ”€â”€ show_selected_cert_details()        # æ˜¾ç¤ºè¯ä¹¦è¯¦æƒ…
 â”‚   â”‚   â””â”€â”€ show_selected_revoked_details()     # æ˜¾ç¤ºåŠé”€è¯¦æƒ…
 â”‚   â””â”€â”€ å·¥å…·å‡½æ•°
 â”‚       â””â”€â”€ log_msg()           # æ—¥å¿—è®°å½•
 â”œâ”€â”€ å¯¹è¯æ¡†ç±» NewApplicationDialog
 â”‚   â”œâ”€â”€ __init__()              # åˆå§‹åŒ–ç”³è¯·å¯¹è¯æ¡†
 â”‚   â”œâ”€â”€ select_pubkey()         # é€‰æ‹©å…¬é’¥æ–‡ä»¶
 â”‚   â”œâ”€â”€ select_docs()           # é€‰æ‹©æ–‡æ¡£æ–‡ä»¶
 â”‚   â””â”€â”€ get_data()              # è·å–ç”³è¯·æ•°æ®
 â””â”€â”€ ä¸»ç¨‹åºå…¥å£
     â””â”€â”€ if __name__ == "__main__" # å¯åŠ¨GUIåº”ç”¨


CAç³»ç»Ÿç®—æ³•è®¾è®¡
â”œâ”€â”€ è¯ä¹¦ç”³è¯·ä¸ç­¾å‘
â”‚   â”œâ”€â”€ ç”¨æˆ·æäº¤ç”³è¯·ä¿¡æ¯ã€å…¬é’¥
â”‚   â”œâ”€â”€ ç®¡ç†å‘˜å®¡æ ¸å¹¶ç”ŸæˆX.509è¯ä¹¦
â”‚   â”œâ”€â”€ ä¸­çº§CAç­¾åè¯ä¹¦
â”‚   â””â”€â”€ å†™å…¥æ•°æ®åº“ä¸æ—¥å¿—
â”‚
â”œâ”€â”€ è¯ä¹¦åŠé”€ä¸ä½œåºŸ
â”‚   â”œâ”€â”€ ç”¨æˆ·æˆ–ç®¡ç†å‘˜è§¦å‘åŠé”€è¯·æ±‚
â”‚   â”œâ”€â”€ æ ‡è®°æ•°æ®åº“ revoked=1
â”‚   â”œâ”€â”€ è®°å½•åŠé”€æ—¶é—´ revoked_at
â”‚   â””â”€â”€ éªŒè¯æ—¶æ‹’ç»è¯¥è¯ä¹¦
â”‚
â”œâ”€â”€ è¯ä¹¦ç»­æœŸä¸åˆ°æœŸæé†’
â”‚   â”œâ”€â”€ ç³»ç»Ÿå¯åŠ¨æ—¶æ‰«æè¯ä¹¦æœ‰æ•ˆæœŸ
â”‚   â”œâ”€â”€ è‹¥è·ç¦»åˆ°æœŸ<30å¤©åˆ™æç¤º
â”‚   â”œâ”€â”€ ç”¨æˆ·é€‰æ‹©ç»­æœŸ
â”‚   â””â”€â”€ é‡æ–°ç­¾å‘æ–°è¯ä¹¦å¹¶æ›´æ–°è®°å½•
â”‚
â”œâ”€â”€ è¯ä¹¦é“¾ä¸ä¸­çº§CAç®¡ç†
â”‚   â”œâ”€â”€ ç³»ç»Ÿå¯åŠ¨æ£€æŸ¥ä¸­çº§CAå­˜åœ¨æ€§
â”‚   â”œâ”€â”€ æ— åˆ™ç”±æ ¹CAç­¾å‘æ–°ä¸­çº§CA
â”‚   â”œâ”€â”€ ç”¨æˆ·è¯ä¹¦ç”±ä¸­çº§CAç­¾å‘
â”‚   â””â”€â”€ éªŒè¯é“¾ï¼šRoot â†’ Intermediate â†’ User
â”‚
â””â”€â”€ æ–‡ä»¶è·¯å¾„ä¸å®‰å…¨é˜²æŠ¤
    â”œâ”€â”€ ä½¿ç”¨basenameæ¸…æ´—æ–‡ä»¶å
    â”œâ”€â”€ è·¯å¾„é™åˆ¶åˆ°ç³»ç»Ÿç™½åå•ç›®å½•
    â”œâ”€â”€ æ£€æŸ¥æ˜¯å¦åŒ…å«â€œ..â€ç­‰éæ³•ç¬¦å·
    â””â”€â”€ é˜²æ­¢ä»»æ„è·¯å¾„è·³å‡ºä¸æ³¨å…¥
